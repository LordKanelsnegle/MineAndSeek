
# Welcome to MineAndSeek!

MineAndSeek is a minigame datapack designed by EternalLawn and implemented by LordKanelsnegle. It is intended for personal use, but we anticipate its growth and welcome the opportunity for matchmaking, player statistics, and the ability to play at any time.

# Game Design

The premise of the game offers a dangerously fun spin on hide and seek, with players having access to specialized classes that can shift the tides of victory with their unique abilities. Players are divided into two factions, "Hunters" and "Survivors", and spend up to 10 minutes in pre-created maps trying to achieve victory for their faction. 
- Hunters are designed to seek and defeat Survivors; they win if they can defeat all Survivors before time runs out.
- Survivors are designed to hinder Hunters and protect themselves and their allies; they win if at least one Survivor remains standing when time runs out.

## Hunters (Experimental)

<details>
  <summary>Clyde: The Savage</summary>
  
  > Once a hardworking family man and butcher, now a raging figure driven by an indiscriminate desire to do what butchers do best. Simple to play, hard to escape.
  
  > **Weapon - The Cleaver**
  <br>High Damage Axe (Iron)
  
  > **Passive - Bloodlust**
  <br>Can hear the heartbeat of nearby Survivors and gains a 20% speed boost when close. 
  <br>*“Your heart is stricken. My footsteps quicken.”*
  
  > **Active - Unrelenting**
  <br>Enter a state of rage which gives you 20% speed, apply bleeding damage, and makes you temporarily immune to debuffs for 8s. (CD: 40s) 
  <br>*“Death couldn’t stop me. Did you think you could?”*
  
  > **Ultimate - Scream for Me**
  <br>Spread a nightmare-inducing Paranoia effect to all Survivors, blinding them and scrambling their senses for 8 seconds. 
  <br>*“Squeal for me, piggies!”*
</details>

<details>
  <summary>Percival: The Tracker</summary>
  
  > Originally a caretaker of the forest, he watched as The Corruption slowly mutated his animal companions into horrific zombies but cared for them all the same. After witnessing a group of Survivors hunting them down, he swore that the hunters would become the hunted. Silent as a breeze, deadly as a storm. 
  
  > **Weapon - Shadowstrike, Ol' Reliable**
  <br>Medium Damage Bow, Low Damage Sword (Wooden)
  
  > **Passive - Eagle's Eye**
  <br>All arrows reveal targets and prevent healing for 1 second.
  <br>*“Justice is blind, but I am not.”*
  
  > **Active - Ensared**
  <br>Plant a trap at your position and enter stealth for a brief period. Trap placement is permanent until detonated or until the skill is used again, and stealth lasts 5 seconds. Traps root and reveal victims within range for 2 seconds. (CD: 30s).
  <br>*“Don’t scream too much.”*
  
  > **Ultimate - You Can't Hide**
  <br>Fire a global, wide, wall-piercing shot that deals tremendous damage to all unfortunate enough to be caught in its path.
  <br>*“You don’t deserve to live.”*
</details>

<details>
  <summary>Minerva: The Wicked</summary>
  
  > A proud, fallen queen who was blood-bound to protect thousands of lives - she ruined all of them. A master manipulator who can get even the dead to do her bidding, she thrives off the power her subjects provide. Tricky and oppressive when left unchecked.
  
  > **Weapon - Black Scythe**
  <br>Low Damage Hoe (Netherite)
  
  > **Passive - Eerie Presence**
  <br>Summon a Zombie at your position every 40 seconds. Your zombies are revealed to you and will attack Survivors. 
  <br>*“If only I were you, so that I too could serve such a beautiful queen.”*
  
  > **Active - Tainted Legacy**
  <br>Hold to charge. Teleport a distance proportional to the charge duration, in the direction you're facing. Spawn a zombie where you were standing originally. (CD: 20s). 
  <br>*“You should be honored.”*
  
  > **Ultimate - For the Queen!**
  <br> Spawn a bloodthirsty creeper directly behind every Survivor. These minions have increased speed and will explode to deal high damage. They last for 10 seconds. 
  <br>*“Seek and destroy.”*
</details>


## Survivors (Experimental)
Survivors are designed with roles, as opposed to Hunters.

<details>
  <summary>Tina Nelson Tucker: The TNT [Control]</summary>
  
  > Science gives mankind the power to reach for the stars and inevitably crash and burn. Too bad Tina forgot the first part. The tools she made as a nuclear engineer for the government failed to stop Aurora, but what better way to make up for it than destroying everything the Corruption brought with it? Debuffs and cripples with various chemicals (some of which she may have breathed in a little of).
  
  > **Weapon - Sparky**
  <br>Flint and Steel
  
  > **Passive - Crackhead Energy**
  <br>Your alchemical genius (or craziness) allows you to craft another potion while crouching for 8 seconds. *“I dunno who Geneva is but she better get her convention up on outta here.”*
  
  > **Active - Bubbly Boys**
  <br>Throw a mysterious concoction that slows Hunters by 50% and reduces their damage by 50% for 5s; also deals damage to enemy deployables. Can hold up to 3. *“How z’at taste?”*
  
  > **Ultimate - The Big One**
  <br>Drop a hazardous bomb, causing all Hunters to become dizzy and eventually black out. When they wake up 3 seconds later, they return to the map’s spawn point. *“Smell that? Me neither! My nose don’t work.”*
 
</details>

<details>
  <summary>Scarecrow: The Still [Support]</summary>
  
  > A passionate and extremely talented farmer who gets into his work – REALLY into his work. The last in a long line of agricultural geniuses, he watched as the Terrorforming soiled the land and caused untamed beasts to desecrate his family’s hard work. He now takes it upon himself to patiently stand among the Survivors’ much-needed crops from sunrise to sunset and protects them with his life, while ending the life of any that test his patience. 
  
  > **Weapon - Wooden Arm**
  <br>Wooden Sword
  
  > **Passive - Undying Patience**
  <br>Grant self and nearby allies 20% damage reduction. If a hunter deals 5 hearts of your health worth of damage to you, they are stunned for 1s. *“The seed of vengeance has been planted, and I will watch it grow.”*
  
  > **Active - Wind Dance**
  <br>Heal yourself and nearby allies in a large range for 3 hearts. They gain 50% additional damage reduction. (CD: 40). *“I shall protect the harvest.”*
  
  > **Ultimate - Silent Bulwark**
  <br>Plant yourself on the spot and become invisible. All other Survivors become immune to damage and debuffs for 8 seconds. *“What senseless Violence.”*
 
</details>
<details>
  <summary>Ava: The Seer [Trickster]</summary>
  
  > Blinded and cast out as a child, she roamed the forest until she knew every tree by every dent in its bark. The animals and spirits became were merciful to her when her life wasn’t and became her family. Once she became 18, she decided she was strong enough to seek her brother who unbeknown to her had become a Hunter. Perhaps it’s a blessing that she cannot see how her world was corrupted.
  
  > **Agony:**
  <br>Bow
  
  > **Passive - Eye for an Eye**
  <br>Your weapon shots inflict Blindness on Hunters for 1 second. *“I may have lost my sight, but I still have vision.”*
  
  > **Active - Guide Me**
  <br>Spawn a sentry Hawk in your location. You can have up to 3 active and they will reveal hunters in a radius. If a hunter defeat one of these hawks, all Survivors are healed for 2 hearts. (CD: 30s). *“Please, be my eyes.”*
  
  > **Ultimate - The Overseer**
  <br>Spawn an Elder bear behind a random Hunter, it is revealed, has a lot of health, large, and Hunters cannot use their skills until it is killed, or it disappears in 20 seconds. *“Guardian, protect us!”*
 
</details>
<details>
  <summary>Princess Stormbliss: The Blizzard [Control]</summary>
  
  > There was once a kingdom that was plagued with snow born from the frigid queen’s heart. She locked away her daughter, leaving her with nothing but the never-ending snow on her balcony and her imagination. No princess is without power; when the Terrorforming happened, she got the freedom she needed. She now seeks to chill the flames of destruction caused by not only the Corruption, but also her mother.
  
  > **Weapon - Snowballs**
  <br>Special Snowballs.
  
  > **Passive - Permafrost**
  <br>Your snowballs knock back and slow Hunters by 25% for 1 second. *“You’ve bathed the world in red, now I will bathe it in white.”*
  
  > **Active - Loyal Subjects**
  <br>Summon a loyal snowman who runs up to nearby Hunters and explodes, freezing them for 2 seconds. (CD: 40). *“Freeze them in time.”*
  
  > **Ultimate - White Blood**
  <br>Call upon your weather powers to summon a blizzard that follows Hunters, slowing them by 90% and obscuring their vision for 8 seconds. *“Your hearts are frozen.”*
 
</details>
<details>
  <summary>Jasone: The Kid [Trickster]</summary>
  
  > A kid from a poor family with nothing but clothes on his back and lightning running through his veins. He grew up with the wholesome aspiration of becoming an athlete and becoming famous enough to get his family out of the gutter. Now the corruption may have taken his family, but not his energy. They say lightning doesn’t strike in the same place twice, but that’s because they haven’t seen Jasone.
  
  > **Weapon - Ego**
  <br>Sword
  
  > **Passive - Adrenaline Rush**
  <br>If you receive damage your speed increases by 20% and you reveal the Hunters who attacked you for 2 seconds.
  
  > **Active - Spark Mark**
  <br>Plant a mark on the ground and gain 20% movement speed for 8 seconds. Reactivating the skill within this duration returns you to the Mark. (CD: 40s)
  
  > **Ultimate - Pandemonium**
  <br>Channel the vengeance of your ancestors to strike all Hunters on the map with searing Lightning, stunning them for 1 second, and increasing your speed by 100% for 8 seconds.
 
</details>
<details>
  <summary>Zombie McDeadface: The Undead [Control]</summary>
  
  > WIP
  
  > **Weapon - These Hands:**
  <br>Rotten Flesh
  
  > **Passive - Bloodlust**
  <br>Your ability does not have a cooldown and instead uses 4 hearts of health. If Hunters are successfully hit by your ability, you gain 2 hearts for every Hunter hit. 
  
  > **Active - Why is it Spicy?**
  <br>Fire a large wall-piercing beam of energy that inflicts Nausea and Slows all Hunters in its path for 5 seconds. This also damages deployables. *“Pardon me.”*
  
  > **Ultimate - Table Turner**
  <br>Turn all Hunters into Zombies for 5 seconds. *“Have a taste of your own medicine!”*
 
</details>

<details>
  <summary>Zane: The Gambler [Trickster]</summary>
  
  > WIP
  
  > **Weapon - Bang for your Buck**
  <br>Gun (Crossbow)
  
  > **Passive - **
  <br>WIP
  
  > **Active - Test of Fate**
  <br>Heal for 1 heart, then flip a coin, if it’s heads reveal all hunters on the map for 4 seconds, if it’s tails you are revealed for 1 second. (CD: 30s)
  
  > **Ultimate - Stock Exchange**
  <br>All Hunters have their positions swapped, then you swap places with one of those Hunters and grant all Hunters nausea for 5 seconds. *“It’s your problem now.”*
 
</details>

<details>
  <summary>Cascade: The Surfer [Support]</summary>
  
  > WIP
  
  > **Weapon - Finny**
  <br>Fish
  
  > **Passive - My Dude**
  <br>The spirit of your dolphin buddy watches over you and your nearby allies, regenerating 1 heart of health every 20 seconds.
  
  > **Active - Fintastic!**
  <br>Summon the spirit of Fin who hovers on the spot, granting nearby allies 20% movement speed and regenerates 1 every 10 seconds, this only applies to allies in range. (CD: 40s).
  
  > **Ultimate - Dolphin Rush**
  <br>Summon a spirit of Fin over the shoulders of you and your allies. He protects them by healing them for 1 heart every second, attacking nearby deployables and Hunters with water projectiles, and grants Haste for 8 seconds.
 
</details>


# Folders

All of the folders of interest are in `data/mas`, so assume all folders discussed are in that directory unless otherwise specified.

## Functions

This folder contains chunks of code known as "functions", which can be run individually. Some of these are called every tick while others are called at specific times.

### Classes
Contains functions for each of the classes, separated into `hunter` and `survivor` folders. These include their respective abilities and kits.

### Game
Contains functions pertaining to joining/leaving the game and moderator commands in case something goes wrong.

### Logic
Contains the functions that control the flow of the game, such as the code for initializing rounds or cleaning up after they're done.

### Scripts
Contains the functions needed for installing/uninstalling the datapack, these shouldn't need to change too often. Any variables or scoreboards and such that are needed for the game to work properly should be initialized in the `install` function and removed in the `uninstall` function.

## Structures

This folder contains the structures needed to load the different maps at the beginning of every round. For now, it's not actually used, but in the future, it might be useful to have the datapack itself control the structures for portability or to allow other users to contribute their own maps.

## Tags

This folder contains the tags used to group different things together, such as functions or blocks. Now, we only use the tags to group together the functions needed for setting up the datapack, though in the future they could be used for other things. For instance, rather than checking for 5 different block types individually, you could group them and check for a specific tag.


# To-Do

The to-do's of this project are ever-changing, but this is a tentative list of what work there is to be done.

## Bugs

Any bug fixes that are within our control can be found here. These are generally high-priority.
- Example

## Balancing

Any balancing changes that need to be made can be found here. These are generally medium-priority.
- Example

## New Concepts

Any new ideas or WIP classes/abilities/etc can be found here. These are generally low-priority.
- Example

## Caveats
Any bugs or issues that are version-dependent or faults with Minecraft itself can be found here. They won't be actively worked on, but are worth noting for future reference in case they eventually get fixed.
- Example

# Coding Conventions

There are some very important coding conventions that need to be adhered to, such as the naming of certain variables or tags. These will be updated as time goes on and are currently as follows:
- All tag, scoreboard, and variable names should be prefixed with `mas.` to reduce the chance of conflict with other datapacks
- Dummy variables in scoreboards should be prefixed with # to avoid accidentally setting values for players with the same name - even if players won't be added to that list
- Use `_` to join multiple words in a variable name, e.g. `#round_timer` NOT `#round.timer`
- Constant values should be set up as enums rather than being hardcoded, using the correct section of `mas.enums`, and must be CAPS_CASE to indicate that they are constants
- Every file should have a comment describing it at the top and comments dividing the functionality into sections. Otherwise, comments are only needed when the code is not self-explanatory
- All entities spawned by the datapack MUST have the tag `mas.entity` for cleanup. VERY IMPORTANT!
- Try to keep things self-contained; namely, map-related things should ONLY be used within map files, such as the `#map` enum
- Always use `type` and `limit` (where applicable) for entity searches, even if it's a situation where doing so feels redundant
- Respect `global.ignore` flags when selecting entities without MaS-specific tags - more info [here](https://mc-datapacks.github.io/en/conventions/global_ignoring_tag.html)

# Final Notes

The following bits of information are not super useful at the moment but may prove to be interesting or useful in the future.
- [Right-Click Detection](https://www.youtube.com/watch?v=xcOw4conrVM)
- [Raycasting](https://www.youtube.com/watch?v=RTRYfrli8GU)
- [Structures via Datapack](https://www.youtube.com/watch?v=kzme5WV0plM)
- [Command Generator](https://mcstacker.net/)
- [Other Tools](https://misode.github.io/)
- [Statistics](https://minecraft.fandom.com/wiki/Statistics#List_of_custom_statistic_names)
- [`summon snowball ~ ~ ~ {NoGravity:1b,Invulnerable:1b,Item:{id:"minecraft:diamond_block",Count:1b}}`](https://gyazo.com/4f60726046654ec8e1d7780622466bdb)
